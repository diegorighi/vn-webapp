spring:
  application:
    name: vanessaviagem-backoffice
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}
  datasource:
    url: jdbc:postgresql://localhost:5432/vanessa
    username: vanessa
    password: vanessa123
    driver-class-name: org.postgresql.Driver
  jpa:
    open-in-view: false
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    validate-on-migrate: true

management:
  endpoints:
    web:
      exposure:
        include: health,info,prometheus

# =============================================================================
# SECURITY - Default configuration (overridden by profiles)
# =============================================================================
spring.security.oauth2.resourceserver.jwt:
  issuer-uri: ${OAUTH_ISSUER_URI:}
  jwk-set-uri: ${OAUTH_JWK_SET_URI:}

# Custom security properties
security:
  disabled: false
  jwk-set-uri: ${OAUTH_JWK_SET_URI:}

# =============================================================================
# KMS Configuration (Key Management Service)
# =============================================================================
kms:
  provider: ${KMS_PROVIDER:local}
  local-master-key: ${KMS_LOCAL_MASTER_KEY:}
  aws-key-arn: ${KMS_AWS_KEY_ARN:}
  vault-key-path: ${KMS_VAULT_KEY_PATH:}
